
##Оплата пиццы безналом на сайте

**Цель:** Я как пользователь хочу оплатить пиццу на сайте

**Акторы:** пользователь, система, расчетная система (билинговая система банка)

**Контекст:** вызов делается из “корзины”

**Предусловия:**
* Известна сумма заказа
* В заказе “вид оплаты” стоит “на сайте по карте”
* Заказ находится в корзине

###Основной сценарий

1. Пользователь нажимает кнопку оплатить.
2. Система передает запрос с суммой оплаты в расчетную систему.
3. Расчетная система делает запрос о параметрах карты.
4. Пользователь вводит данные карты.
5. Расчетная система списывает с карты пользователя денежные средства.
6. Расчетная система передает данные об успешном платеже системе.
7. Система проставляет признак оплаты в заказе (ставит дату и время платежа)

###Исключение: проблема с платежом

6. Расчетная система передает данные о проблемах при платеже (код ошибки)
7. Система сообщает пользователю информацию об ошибке платежа (с кодом ошибки)

###Исключение: отказ пользователя от оплаты

4. Пользователь отказывается от ввода данных (нажимает отмену).
5. Расчетная система передает информацию об отказе от платежа.
6. Система выдает сообщение о том, что пользователь отказался от платежа.

**Список задач**

[PP-14: Оплата пиццы](https://test-jira-system-analyst.atlassian.net/browse/PP-14)